<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button routerLink="../">
        <ion-label>Cancel</ion-label>
      </ion-button>
    </ion-buttons>

    <ion-title class="ion-text-center">Add New Product</ion-title>

    <ion-buttons slot="end">
      <ion-button id="adopt-btn" fill="solid">
        <ion-button (click)="formSubmit()" [disabled]="!productForm.valid">Add</ion-button>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>



<ion-content>
  <ion-list lines="full">
    <form [formGroup]="productForm">

        <ion-card>
          <ion-card-content>
            <ion-card-content>
              <ion-button fill="clear">
                <input type="file" class="upload" (change)="uploadPicture($event)" />
              </ion-button>

              <ion-card *ngIf="isImgUploading && !isImgUploaded">
                <ion-card-header>
                  <ion-card-title>Uploading: <b>{{ FileName }}</b></ion-card-title>
                </ion-card-header>

                <ion-card-content>
                  <div *ngIf="progressNum | async as percentage">
                    Progress: {{ percentage | number }}%
                    <ion-progress-bar value="{{ percentage / 100 }}"></ion-progress-bar>
                  </div>
                  <div *ngIf="progressSnapshot | async as pSnapshot">
                    Image size: {{ pSnapshot.totalByte }} Transfered:
                    {{ pSnapshot.bytesTransferred }}
                    <div *ngIf="progressSnapshot && pSnapshot.bytesTransferred != pSnapshot.totalBytes">
                      <ion-button color="danger" fill="outline" size="small" (click)="ngFireUploadTask.cancel()">Cancel</ion-button>
                      <ion-button color="secondary" fill="outline" size="small" (click)="ngFireUploadTask.pause()">Pause
                      </ion-button>
                      <ion-button color="dark" fill="outline" size="small" (click)="ngFireUploadTask.resume()" class="button">Resume
                      </ion-button>
                    </div>
                  </div>
                </ion-card-content>
              </ion-card>

              </ion-card-content>

            <img *ngIf="newProductList.productImage" [src]="newProductList.productImage"/>
          </ion-card-content>
        </ion-card>

        <ion-card>

      <ion-card-content>
        <ion-label position="floating">Product Name</ion-label>
        <ion-input formControlName="productName" type="text" required></ion-input>
      </ion-card-content>

      <ion-card-content>
        <ion-label position="floating">Product Category</ion-label>
        <ion-select value="gender" interface="action-sheet" formControlName="productCategory">
          <ion-select-option value="Pet Food">Pet Food</ion-select-option>
          <ion-select-option value="Pet House">Pet House</ion-select-option>
          <ion-select-option value="Pet Care">Pet Care</ion-select-option>
          <ion-select-option value="Pet Accessories">Pet Accessories</ion-select-option>
          <ion-select-option value="Others">Others</ion-select-option>
        </ion-select>
      </ion-card-content>

      <ion-card-content>
        <ion-label position="floating">Product Description</ion-label>
        <ion-textarea formControlName="productDescription" type="text" required></ion-textarea>
      </ion-card-content>

      <ion-card-content>
        <ion-label position="floating">Product Price</ion-label>
        <ion-input formControlName="productPrice" type="number" required></ion-input>
      </ion-card-content>
      </ion-card>

      <ion-radio-group formControlName="productAgreement" required>
        <ion-item>
          <ion-label class="ion-text-wrap">By this, you agreed that commission fee will be applied when the user made a successful sale.</ion-label>
          <ion-radio slot="start" color="primary" value="Agree"></ion-radio>
        </ion-item>
      </ion-radio-group>
    </form>
  </ion-list>
</ion-content>

